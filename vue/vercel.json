{
  "trailingSlash": true,
  "redirects": [
    { 
      "source": "/new-municipality/:id([0-9]{1,4})/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(?<lang>(de|fr|it|en)),?.*"
        }
      ],
      "destination": "/:lang/new-municipality/:id",
      "permanent": false 
    },
    { 
      "source": "/new-municipality/:id([0-9]{1,4})/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "[a-z]{2},?.*"
        }
      ],
      "destination": "/en/new-municipality/:id",
      "permanent": false 
    },
    { 
      "source": "/:wshash([0-9a-z]{5})/:hash([0-9a-z]{6})/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(?<lang>(de|fr|it|en)),?.*"
        }
      ],
      "destination": "/:lang/:wshash/:hash",
      "permanent": false 
    },
    { 
      "source": "/:wshash([0-9a-z]{5})/:hash([0-9a-z]{6})/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "[a-z]{2},?.*"
        }
      ],
      "destination": "/en/:wshash/:hash",
      "permanent": false 
    },
    { 
      "source": "/:hash([0-9a-z]{6})/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(?<lang>(de|fr|it|en)),?.*"
        }
      ],
      "destination": "/:lang/:hash",
      "permanent": false 
    },
    { 
      "source": "/:hash([0-9a-z]{6})/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "[a-z]{2},?.*"
        }
      ],
      "destination": "/en/:hash",
      "permanent": false 
    },
    { 
      "source": "/:hash([0-9a-z]{5})/annotations/:type([A-Z]{3})/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(?<lang>(de|fr|it|en)),?.*"
        }
      ],
      "destination": "/:lang/:hash/annotations/:type",
      "permanent": false 
    },
    { 
      "source": "/:hash([0-9a-z]{5})/annotations/:type([A-Z]{3})/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "[a-z]{2},?.*"
        }
      ],
      "destination": "/en/:hash/annotations/:type",
      "permanent": false 
    },
    { 
      "source": "/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "(?<lang>(de|fr|it|en)),?.*"
        }
      ],
      "destination": "/:lang", 
      "permanent": false 
    },
    { 
      "source": "/", 
      "has": [
        {
          "type": "header",
          "key": "Accept-Language",
          "value": "[a-z]{2},?.*"
        }
      ],
      "destination": "/en",
      "permanent": false 
    }
  ],
  "rewrites": [
      { "source": "/(de|fr|it|en)/([0-9A-Z]{6})/", "destination": "/app.html"},
      { "source": "/(de|fr|it|en)/([0-9A-Z]{5})/([0-9A-Z]{6})/", "destination": "/app.html"},
      { "source": "/(de|fr|it|en)/([0-9A-Z]{5})/annotations/([A-Z]{3})/", "destination": "/app.html"},
      { "source": "/(de|fr|it|en)/new-municipality/([0-9]{1,4})/", "destination": "/app.html"}
    ]
  }